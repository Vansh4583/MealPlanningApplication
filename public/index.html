<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Meal Planning Dashboard</title>
</head>

<body>
    <!-- Navigation Header -->
    <nav class="navbar">
        <div class="nav-brand">
            <h1>üçΩÔ∏è Meal Planning System</h1>
        </div>
        <div class="nav-links">
            <a href="#recipes" onclick="showSection('recipes')">Recipes</a>
            <a href="#users" onclick="showSection('users')">Users</a>
            <a href="#mealplans" onclick="showSection('mealplans')">Meal Plans</a>
            <a href="#analytics" onclick="showSection('analytics')">Analytics</a>
        </div>
    
    </nav>

    <!-- Main Container -->
    <div class="container">
        
        <!-- Hero Section -->
        <section id="hero" class="section active">
            <div class="hero-content">
                <h1>Welcome to Your Meal Planning Dashboard</h1>
                <p>Manage recipes, track ingredients, and plan your meals efficiently</p>
                <div class="hero-actions">
                    <button class="btn-primary" onclick="showSection('recipes')">
                        Explore Recipes
                    </button>
                    <button class="btn-secondary" onclick="showSection('mealplans')">
                        View Meal Plans
                    </button>
                </div>
                
                <!-- Quick Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="totalRecipes">0</div>
                        <div class="stat-label">Total Recipes</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalUsers">0</div>
                        <div class="stat-label">Active Users</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalMealPlans">0</div>
                        <div class="stat-label">Meal Plans</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalIngredients">0</div>
                        <div class="stat-label">Ingredients</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- RECIPES SECTION -->
        <section id="recipes" class="section">
            <div class="section-header">
                <h2>Recipe Management</h2>
                <p>Search, filter, and discover delicious recipes</p>
            </div>

            <!-- Search & Filter Recipes -->
            <div class="card">
                <h3>üîç Search Recipes</h3>
                <form id="searchRecipesForm" class="form-grid">
                    <div class="form-group">
                        <label>Difficulty</label>
                        <select id="searchDifficulty">
                            <option value="">Any</option>
                            <option value="Easy">Easy</option>
                            <option value="Medium">Medium</option>
                            <option value="Hard">Hard</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Logic</label>
                        <select id="searchLogic">
                            <option value="AND">AND</option>
                            <option value="OR">OR</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Temperature</label>
                        <select id="searchServingTemp">
                            <option value="">Any</option>
                            <option value="Hot">Hot</option>
                            <option value="Cold">Cold</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Logic</label>
                        <select id="searchLogic2">
                            <option value="AND">AND</option>
                            <option value="OR">OR</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Created By User</label>
                        <select id="UserID">
                            <option value="">Any User</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <button type="submit" class="btn-primary">Search</button>
                    </div>
                </form>
                <div id="searchRecipesResultMsg" class="result-msg"></div>
                <div class="table-container">
                    <table id="searchRecipesTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Difficulty</th>
                                <th>Temperature</th>
                                <th>Creator</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <!-- Find by Ingredient -->
            <div class="card">
                <h3>ü•ï Find Recipes by Ingredient</h3>
                <form id="joinRecipesForm" class="inline-form">
                    <select id="ingredientDropdown" required>
                        <option value="">-- Select an ingredient --</option>
                    </select>
                    <button type="submit" class="btn-primary">Find Recipes</button>
                </form>
                <div id="joinRecipesResultMsg" class="result-msg"></div>
                <div class="table-container">
                    <table id="joinRecipesTable">
                        <thead>
                            <tr>
                                <th>Recipe ID</th>
                                <th>Recipe Name</th>
                                <th>Difficulty</th>
                                <th>Amount</th>
                                <th>Unit</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <!-- Update Recipe -->
            <div class="card">
                <h3>‚úèÔ∏è Update Recipe</h3>
                <div class="form-group">
                    <label>Select Recipe</label>
                    <select id="recipeSelect"></select>
                </div>
                <form id="updateRecipeForm" class="form-grid">
                    <div class="form-group">
                        <label>New Name</label>
                        <input type="text" id="updateRecipeName" placeholder="Leave blank to keep">
                    </div>
                    <div class="form-group">
                        <label>New Difficulty</label>
                        <input type="text" id="updateRecipeDifficulty" placeholder="Easy/Medium/Hard">
                    </div>
                    <div class="form-group">
                        <label>New Creator User ID</label>
                        <input type="number" id="updateRecipeUsrId" placeholder="Leave blank to keep">
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn-primary">Update Recipe</button>
                    </div>
                </form>
                <div id="updateRecipeResult" class="result-msg"></div>
            </div>
        </section>

        <!-- USERS SECTION -->
        <section id="users" class="section">
            <div class="section-header">
                <h2>User Management</h2>
                <p>View and manage user profiles</p>
            </div>

            <!-- View Users with Custom Columns -->
            <div class="card">
                <h3>üë• View User Information</h3>
                <form id="projectionForm">
                    <div class="checkbox-group">
                        <label><input type="checkbox" name="projCol" value="id" checked> ID</label>
                        <label><input type="checkbox" name="projCol" value="name" checked> Name</label>
                        <label><input type="checkbox" name="projCol" value="height"> Height</label>
                        <label><input type="checkbox" name="projCol" value="weight"> Weight</label>
                    </div>
                    <button type="submit" class="btn-primary">View Users</button>
                </form>
                <div id="projectionResultMsg" class="result-msg"></div>
                <div class="table-container">
                    <table id="projectionTable">
                        <thead id="projectionTableHead"></thead>
                        <tbody id="projectionTableBody"></tbody>
                    </table>
                </div>
            </div>

            <!-- Users Following All Meal Plans -->
            <div class="card">
                <h3>‚≠ê Super Users</h3>
                <p>Find users who are following <strong>all</strong> meal plans</p>
                <button id="divisionBtn" class="btn-primary">Find Super Users</button>
                <div id="divisionResultMsg" class="result-msg"></div>
                <div class="table-container">
                    <table id="divisionTable">
                        <thead>
                            <tr>
                                <th>User ID</th>
                                <th>Name</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- MEAL PLANS SECTION -->
        <section id="mealplans" class="section">
            <div class="section-header">
                <h2>Meal Plan Management</h2>
                <p>Create and manage meal plans for users</p>
            </div>

            <!-- Add User to Meal Plan -->
            <div class="card">
                <h3>‚ûï Add User to Meal Plan</h3>
                <form id="insertFollowForm" class="form-grid">
                    <div class="form-group">
                        <label>User ID</label>
                        <input type="number" id="followUsrId" required>
                    </div>
                    <div class="form-group">
                        <label>Meal Plan ID</label>
                        <input type="number" id="followMid" required>
                    </div>
                    <div class="form-group">
                        <label>Active Status</label>
                        <select id="followIsActive">
                            <option value="1">Active (1)</option>
                            <option value="0">Inactive (0)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn-primary">Add Follow</button>
                    </div>
                </form>
                <div id="insertFollowResult" class="result-msg"></div>
                <div class="table-container">
                    <table id="followTable">
                        <thead>
                            <tr>
                                <th>User ID</th>
                                <th>Meal Plan ID</th>
                                <th>Active</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <!-- Delete Meal Plan -->
            <div class="card">
                <h3>üóëÔ∏è Delete Meal Plan</h3>
                <div class="inline-form">
                    <input type="number" id="deleteMealPlanId" placeholder="Enter Meal Plan ID">
                    <button id="deleteMealPlanBtn" class="btn-danger">Delete</button>
                </div>
                <div id="deleteMealPlanResult" class="result-msg"></div>
                <div class="table-container">
                    <table id="mealPlanTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Meals/Week</th>
                                <th>Date Created</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- ANALYTICS SECTION -->
        <section id="analytics" class="section">
            <div class="section-header">
                <h2>Analytics & Insights</h2>
                <p>Discover patterns and trends in your meal planning data</p>
            </div>

            <!-- Recipe Completion Times -->
            <div class="card">
                <h3>‚è±Ô∏è Recipe Completion Times</h3>
                <button id="sumRecipeTimes" class="btn-primary">Calculate Times</button>
                <div id="sumRecipeTimeResultMsg" class="result-msg"></div>
                <div class="table-container">
                    <table id="sumRecipeTimesTable">
                        <thead>
                            <tr>
                                <th>Recipe ID</th>
                                <th>Name</th>
                                <th>Total Time (min)</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <!-- Filter by Ingredient Count -->
            <div class="card">
                <h3>üìä Filter Recipes by Ingredients</h3>
                <form id="recipeIngredientCountFilter" class="inline-form">
                    <input type="number" id="maxRecipeIngredientCount" 
                           placeholder="Max # of ingredients" min="1">
                    <button type="submit" class="btn-primary">Find Recipes</button>
                </form>
                <div class="table-container">
                    <table id="recipeIngredientCountTable">
                        <thead>
                            <tr>
                                <th>Recipe ID</th>
                                <th>Name</th>
                                <th># of Ingredients</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <!-- Below Average Meal Plans -->
            <div class="card">
                <h3>üìâ Below Average Meal Plans</h3>
                <p>Find meal plans using fewer recipes than average</p>
                <button id="belowAverageRecipeCountMealPlans" class="btn-primary">Analyze</button>
                <div class="table-container">
                    <table id="belowAverageRecipeCountMealPlansTable">
                        <thead>
                            <tr>
                                <th>Meal Plan ID</th>
                                <th>Name</th>
                                <th># of Recipes</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </section>

    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>Meal Planning System | Database Application Project</p>
    </footer>

    <script src="scripts.js"></script>
</body>

</html>